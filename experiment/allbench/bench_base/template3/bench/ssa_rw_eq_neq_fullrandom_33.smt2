(set-logic ALL)
(define-fun reg () RegLan (re.++ (re.range "a" "z") (re.* (re.range "a" "z"))))

(declare-const x String)
(declare-const y String)

(define-fun base () (Seq String) (seq.++ (seq.unit "a") (seq.unit "b") (seq.unit "c") (seq.unit "d")))
(define-fun w_x_1 () (Seq String) (seq.write base 0 x))
(define-fun w_x_2 () (Seq String) (seq.write w_x_1 3 x))
(define-fun w_y_1 () (Seq String) (seq.write base 0 y))
(define-fun w_y_2 () (Seq String) (seq.write w_y_1 2 y))
(define-fun r_x_1 () String (seq.nth w_x_2 3))
(define-fun r_x_2 () String (seq.nth w_x_2 2))
(define-fun r_x_3 () String (seq.nth w_x_2 1))
(define-fun r_x_4 () String (seq.nth w_x_2 0))
(define-fun r_y_1 () String (seq.nth w_y_2 0))
(define-fun r_y_2 () String (seq.nth w_y_2 2))
(define-fun r_y_3 () String (seq.nth w_y_2 1))
(define-fun r_y_4 () String (seq.nth w_y_2 3))
(assert (str.in_re r_x_1 reg))
(assert (str.in_re r_y_1 (re.comp reg)))
(assert (str.in_re r_x_2 reg))
(assert (str.in_re r_y_2 (re.comp reg)))
(assert (str.in_re r_x_3 reg))
(assert (str.in_re r_y_3 (re.comp reg)))
(assert (str.in_re r_x_4 reg))
(assert (str.in_re r_y_4 reg))

(check-sat)
(get-model)